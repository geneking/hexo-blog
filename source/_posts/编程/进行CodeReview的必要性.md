title: 进行Code Review的必要性
date: 2017-02-23
tags: CodeReview
categories: 编程
keywords: CodeReview
---

&nbsp;&nbsp;&nbsp;&nbsp;Code Review 或许对于从事技术开发工作的同学来说并不陌生，基于以往的工作经验和个人想法，谈谈个人的理解和看法，有问题还请一起讨论。
## 一、Code Review的背景
* 很多情况下，对于有一定的编程基础，没有接触过太多实际项目的应届生或者实习生，都会有由一个Mentor来带。除了日常工作中的指导，code review是必然的；
* code review 也不仅仅面向新手，对于一些核心系统，避免上线后出现问题或者性能方面的考虑，也会由先关业务人员进行交叉code review，注意这里提到的是相关业务人员，因为不熟悉业务代码进行review的成本是昂贵的；
* 为了整个Team的代码风格和代码质量，code review也是必要的；

## 二、为什么我们放弃了Code Review
* 迫于业务的压力，PM又来催进度了，能快点就快点，实现功能就好；
* 反正这块业务由我负责，我能看懂就行；
* 交给别人code review，感觉有点浪费别人的时间；
* 当然还有很有很多理由...
<!--more-->
这些理由都没有问题，或许工作中是会遇到这样那样的问题，让我们忽略了code review。但是，这都不是让我们放弃code review，code review带来的利永远要大于弊。

## 三、Code Review的目的
* 对于新人来说，code review能更好的对其进行引导，避免下次出现类似问题；
* 对于Team来说，规范代码，提升团队整体代码质量；
* 对于自己，心态的转变，你知道有人要review你的代码，自然而然会去更用心的去写，不加注释的加个注释，能优化的进行优化。毕竟我们都想把最好的一面留给别人；

## 四、怎么进行Code Review
* 我觉得要更好的code review，应该要先去落实Team的代码规范，团队良好、风格统一的代码风格，会大大降低review的成本；
* 怎么去落实，觉得这个主要责任在于Team Leader，Leader应该积极主动去推动各个小组，各个业务去实施相应代码规范，进行必要的code review；
* Mentor对新人的code review，指出不足，提供更好的思路和解决方案，以及类似功能实现应该怎么样去coding会比较好；
* 交叉code review，最好是同业务的人进行交叉review，对于熟悉业务的人，相对没有接触过该业务开发的同学，成本往往要低得多，并且能发现一些非代码问题；
* code review花的时间要合理，不能说为了review和逐行去度代码，也不能走马观花，就点个approve；
* 对于code review经常出现的问题要归纳总结，避免以后出现；

## 五、Code Review的意义
* 在《Code Complete》这本书中讲述了两个很有说服力的案例。在一项对同一个团队开发的很多个程序进行对比的研究中，没有经过review的代码平均每100行有4.5个错误，而经过code review的代码平均每100行只有0.82个错误，也就是说80%的错误在code review中被修正了。AT & T的一个 200多人的部门在开始执行code review后，开发效率提高了14%，而错误减少了90%左右。
* 如果很好的落实执行code review，能有效提升团队代码质量和开发效率，对于业务的交接和调整影响是比较小的，因为大家是基于同一套代码规范去开发和 code review。不得不说，code review对于自己，也是一个“偷师”的过程，以前我这样写一个function，发现别人这样写更好，所以也是一个相互学习的过程。总之，code review迈出第一步，并逐步落实，之前花费的成本会成倍的赚回来。
