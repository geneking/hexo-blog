title: 分页加载与无限滚动加载的优缺点分析
date: 2016-05-08
tags: 性能优化
categories: 编程

keywords: 前端性能
-----------------------------

## 1.分页加载
### （1）优点
> * 可以直观看到多少页，和内容总total，便于控制浏览时间；
> * 每次加载替换掉当前列表内容，不会造成页面臃肿，导致dom节点过多引发卡顿；
> * 便于定位信息流，用户可以记住主要信息的页码便于二次查看，现在Google、百度、淘宝等在列表展示都采取这种方式；
<!--more-->

### （2）缺点
> * 没有滚动加载方便，查看相应页会有二次点击；
> * 对于连续性的内容，跳页会打乱上下文的衔接，不利于用户阅读；

## 2.滚动加载
### （1）优点
> * 操作便捷快速，不会有二次点击操作；
> * 无限滚动更适合移动端的手势操作；
> * 对于连续性的内容，更能直观联系上下文内容；

### （2）缺点
> * 总total太大的话，会造成页面dom节点越来越多，性能下降而导致浏览时出现卡顿（特别是在展示图片列表时会更加明显），虽然现在也有一些本地缓存的解决方案，没用大范围应用，有兴趣的可以查找相关资料；
> * 因为处于未知的加载状态，滚动条并没有太多的指示作用，用户并不知道加载完全还需要多久；
> * 如果用户有信息要标记，不利于在冗长的信息流中定位位置；
> * 对于底部footer，无限滚动加载便没用意义，对用户不可见；

## 3.两种加载方式的适用场景
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;分页加载更多适用于数据量比较大的情况，避免像滚动加载造成页面臃肿而引起的性能问题。
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;相反，滚动加载适用于数据量比较小，这样即使滚动加载完所有数据，也没用太大的性能影响。由于操作的便捷性，滚动加载的场景在移动端更为常见。

## 4.两种加载方式的结合
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如果在采取分页的情况下，每页我们要展示更多的内容并且不影响加载速度，该怎么办呢？当然，我们可以将两者结合。
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;主体我们采取分页加载，每页适当我们可以增加内容数量，在用户浏览时，可以利用滚动加载去加载2-3次，写程序时我们在处理页码时要格外注意。

## 5.首屏加载与SEO优化
> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;对于搜索引擎来说，爬虫不会去抓取异步加载的数据(ajax获取)，所以为了站点更好的seo效果，一般采取首屏列表展示采用同步获取（List遍历），从第二页起采用分页（分页/滚动）加载。当然，同步输出列表数据速度也会较异步获取快，很大程度提高了首屏加载速度。有兴趣的可以看下美团外卖、百度外卖PC端商家展示列表页。
